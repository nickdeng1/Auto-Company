---
name: dev-documentation
description: 文档技能。生成需求的完整文档，包括技术文档和用户文档。开发流程第 8 阶段（最后阶段）。
---

# 文档 (Documentation)

> 开发流程第 8 阶段（最终）：生成文档 → 更新知识库 → 完成需求

---

## 前置条件

- 已完成方案对齐（`/dev-alignment`）
- 对齐报告已确认

---

## 执行流程

```
对齐报告 + 所有产物
     ↓
┌─────────────────────────────────────┐
│ 1. 文档规划                          │
│    - 确定需要的文档类型               │
│    - 确定文档存放位置                 │
└─────────────────────────────────────┘
     ↓
┌─────────────────────────────────────┐
│ 2. 技术文档生成                      │
│    - API 文档                        │
│    - 架构说明                        │
│    - 部署指南                        │
└─────────────────────────────────────┘
     ↓
┌─────────────────────────────────────┐
│ 3. 知识库更新                        │
│    - 更新专有名词库                   │
│    - 更新模块知识                    │
│    - 记录会话知识                    │
└─────────────────────────────────────┘
     ↓
┌─────────────────────────────────────┐
│ 4. 需求总结                          │
│    - 生成需求总结报告                 │
│    - 记录关键决策                    │
│    - 标记完成状态                    │
└─────────────────────────────────────┘
     ↓
需求完成 ✅
```

---

## 文档类型

### 必须文档

| 文档类型 | 存放位置 | 说明 |
|----------|----------|------|
| 需求总结 | `docs/需求记录/[需求名].md` | 记录整个需求的关键信息 |
| 知识更新 | `docs/AI-Memory/` | 更新专有名词和模块知识 |

### 可选文档

| 文档类型 | 条件 | 存放位置 |
|----------|------|----------|
| API 文档 | 有新增/修改 API | `docs/API/[模块].md` |
| 部署指南 | 有部署变更 | `docs/部署/[指南].md` |
| 用户手册 | 面向用户功能 | `docs/用户手册/[功能].md` |

---

## 输出模板

### 需求总结报告

```markdown
# 需求总结：[需求标题]

> 完成日期：[日期]

---

## 1. 需求概述

[一句话描述需求]

## 2. 实现范围

### 2.1 新增内容

| 类型 | 名称 | 路径 |
|------|------|------|
| 类 | [类名] | [路径] |
| 接口 | [接口名] | [路径] |
| 配置 | [配置项] | [路径] |

### 2.2 修改内容

| 文件 | 修改说明 |
|------|----------|
| [路径] | [修改内容] |

## 3. 关键决策

| 决策 | 选择 | 理由 |
|------|------|------|
| [决策点] | [选择] | [理由] |

## 4. 测试情况

| 测试类型 | 覆盖率 | 状态 |
|----------|--------|------|
| 单元测试 | [X]% | ✅ 通过 |

## 5. 偏差记录

[如有偏差，简述偏差和处理方式]

## 6. 知识沉淀

- 新增术语：[术语列表]
- 更新模块：[模块列表]
- 最佳实践：[简述]

## 7. 相关文档

- [需求分析](./需求分析.md)
- [技术方案](./技术方案.md)
- [编码计划](./编码计划.md)
```

---

## 知识库更新

### 更新专有名词库

文件：`docs/AI-Memory/00-glossary/terminology.md`

在对应模块章节添加新术语：

```markdown
| [新名词] | [定义] | [关键类/位置] |
```

更新日志：

```markdown
| [日期] | [新增术语] | [来源需求] |
```

### 更新模块知识

根据模块类型选择对应目录：
- 核心引擎：`docs/AI-Memory/02-core-engines/`
- 框架组件：`docs/AI-Memory/03-framework/`
- 桥接层：`docs/AI-Memory/04-bridge/`
- 服务层：`docs/AI-Memory/05-services/`

根据实现过程中的发现，补充：
- 新增的扩展点
- 新增的核心类
- 新增的设计模式
- 踩坑记录

---

## 完成检查

在标记需求完成前，确认以下事项：

- [ ] 所有代码已提交
- [ ] 所有测试通过
- [ ] 方案对齐完成
- [ ] 需求总结报告已生成
- [ ] 专有名词库已更新（如有新术语）
- [ ] 模块知识已更新（如有新发现）
- [ ] 相关文档已归档

---

## 需求完成

恭喜！需求已完成。

所有产物已记录到 `docs/需求记录/` 目录。

如需开始新需求，使用 `/dev-requirement` 开启下一个开发周期。
