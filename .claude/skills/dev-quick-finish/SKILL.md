---
name: dev-quick-finish
description: L1快速收尾技能。合并对齐+文档，简要总结并提交代码。适用于简单任务。
---

# 快速收尾 (Quick Finish)

> L1简单流程第3阶段：简要总结 → 提交代码 → 完成需求

---

## 适用场景

- Bug修复完成
- 配置调整完成
- 小功能改动完成

---

## 执行流程

```
快速实现结果
     ↓
┌─────────────────────────────────────┐
│ 1. 简要对齐                          │
│    - 确认改动符合预期                │
│    - 无需详细对齐报告                │
└─────────────────────────────────────┘
     ↓
┌─────────────────────────────────────┐
│ 2. 生成提交信息                      │
│    - 简洁的commit message            │
│    - 关联需求ID                      │
└─────────────────────────────────────┘
     ↓
┌─────────────────────────────────────┐
│ 3. 输出简要总结                      │
│    - 完成了什么                      │
│    - 改动了哪些文件                  │
│    - 影响范围                        │
└─────────────────────────────────────┘
     ↓
✓ 用户确认 → 需求完成
```

---

## 输出模板

```markdown
## 需求完成

**需求**: [需求标题]
**级别**: L1 (简单任务)
**耗时**: [N]分钟

**完成内容**:
[一句话描述完成了什么]

**改动文件**:
| 文件 | 改动 |
|------|------|
| path/to/file1.java | [描述] |
| path/to/file2.java | [描述] |

**测试状态**: ✅ 通过

**提交信息**:
```
fix: [简要描述]

- [改动点1]
- [改动点2]
```

---

[确认完成]
```

---

## 与完整流程对比

| 项目 | 完整流程 (阶段7+8) | L1快速收尾 |
|------|-------------------|------------|
| 时间 | 30-60分钟 | 5分钟 |
| 产物 | 对齐报告.md + 需求总结.md + Memory更新 | 简要总结 |
| 确认 | 2次 | 1次 |
| Memory更新 | 详细 | 仅记录完成 |

---

## 进度文件更新

快速收尾完成后，更新 `.progress.json`:

```json
{
  "status": "completed",
  "endTime": "2026-02-09T10:30:00",
  "metrics": {
    "totalDuration": 1800,
    "level": "L1",
    "stagesCompleted": 3,
    "confirmations": 1
  }
}
```

---

## 使用示例

```
快速实现结果:
- 已修复DateTime时区bug
- 改动: DateTime.java (+8行), DateTimeConverter.java (+3行)
- 测试通过

AI 执行快速收尾:
1. 对齐检查: 改动符合预期 ✅
2. 生成提交信息:
   ```
   fix: 修复日期字段移动端时区显示问题

   - DateTime字段添加时区转换逻辑
   - DateTimeConverter调整格式化方法
   ```
3. 输出简要总结

等待用户确认...
```

---

## 确认后操作

用户确认后:
1. 执行 git commit
2. 更新进度文件状态为 completed
3. 记录完成时间和耗时
4. 显示完成消息

```
┌─────────────────────────────────────────────────────────────┐
│  🎉 需求完成                                                 │
├─────────────────────────────────────────────────────────────┤
│  需求: 修复日期字段时区问题                                  │
│  级别: L1 (简单任务)                                        │
│  流程: 3阶段 / 1确认                                        │
│  耗时: 25分钟                                               │
│                                                              │
│  改动: 2个文件 / +11行                                      │
│  提交: abc1234                                              │
└─────────────────────────────────────────────────────────────┘
```
