---
name: dev-quick-impl
description: L1快速实现技能。合并编码计划+编码+单测，直接实现简单改动。适用于简单任务。
---

# 快速实现 (Quick Implementation)

> L1简单流程第2阶段：直接编码 → 内联测试 → 快速审查 → 准备提交

---

## 适用场景

- Bug修复
- 配置调整
- 小功能改动
- 单文件或少量文件修改

---

## 执行流程

```
┌─────────────────────────────────────┐
│ 0. 快速上下文 (自动)                 │
│    - 读取快速分析结果                │
│    - 定位修改文件                    │
└─────────────────────────────────────┘
     ↓
┌─────────────────────────────────────┐
│ 1. 直接编码                          │
│    - 按分析结果修改文件              │
│    - 遵循现有代码风格                │
│    - 保持最小改动原则                │
└─────────────────────────────────────┘
     ↓
┌─────────────────────────────────────┐
│ 2. 内联测试                          │
│    - 如有现有测试，运行验证          │
│    - 简单改动可跳过新增测试          │
│    - 关键逻辑需补充测试              │
└─────────────────────────────────────┘
     ↓
┌─────────────────────────────────────┐
│ 3. 自检                              │
│    - 编译检查                        │
│    - 代码规范检查                    │
│    - 确认改动范围符合预期            │
└─────────────────────────────────────┘
     ↓
┌─────────────────────────────────────┐
│ 4. 快速审查 (自动)                   │
│    - 简化版 dev-ai-review            │
│    - 仅检查: 安全风险 + 代码规范     │
│    - ❌严重问题 → 修复               │
│    - ✅通过 → 继续                   │
└─────────────────────────────────────┘
     ↓
直接进入快速收尾阶段 (无需确认)
```

---

## 编码原则

### 最小改动原则
- 只修改必要的代码
- 不引入额外的重构
- 保持现有代码结构

### 代码规范
- 遵循项目现有风格
- 添加必要的注释
- 保持方法简洁 (<50行)

### 测试策略
| 改动类型 | 测试要求 |
|----------|----------|
| 配置调整 | 可跳过 |
| Bug修复 | 运行现有测试 |
| 逻辑改动 | 补充单测 |

---

## 步骤4: 快速审查

L1 简单任务采用简化版审查，仅检查关键项：

```
┌─────────────────────────────────────────────────────────────┐
│  🔍 快速审查 (L1简化版)                                      │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  安全检查      ✅ 无硬编码密钥/SQL注入风险                   │
│  代码规范      ✅ 符合项目风格                               │
│  改动范围      ✅ 符合最小改动原则                           │
│                                                              │
│  结果: ✅ 通过                                               │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### L1 审查范围 (vs L2/L3)

| 检查项 | L1快速审查 | L2/L3完整审查 |
|--------|-----------|---------------|
| 安全检查 | ✅ | ✅ |
| 代码规范 | ✅ | ✅ |
| 业务逻辑 | - | ✅ |
| 架构一致性 | - | ✅ |
| 测试充分性 | - | ✅ |
| 质量门禁 | - | ✅ |

> L1 任务简单，无需完整的 5 维度审查和质量门禁

---

## 输出模板

```markdown
## 快速实现

**改动文件**:
- ✅ path/to/file1.java - [改动描述]
- ✅ path/to/file2.java - [改动描述]

**测试状态**:
- [x] 编译通过
- [x] 现有测试通过
- [ ] 新增测试: [数量]

**改动统计**: +[N]行 / -[M]行

**下一步**: 进入快速收尾
```

---

## 与完整流程对比

| 项目 | 完整流程 (阶段4+5+6) | L1快速实现 |
|------|---------------------|------------|
| 时间 | 2-4小时 | 30分钟 |
| 产物 | 编码计划.md + 代码 + 测试 + 覆盖率报告 | 代码 + 基本测试 |
| 确认 | 3次 | 0次 |
| 测试覆盖 | ≥80% | 按需 |

---

## 使用示例

```
快速分析结果:
- 修复DateTime字段时区bug
- 文件: DateTime.java, DateTimeConverter.java
- 预估: ~10行

AI 执行快速实现:
1. 修改 DateTime.java
   - 添加时区转换逻辑
   - +8行代码
2. 修改 DateTimeConverter.java
   - 调整格式化方法
   - +3行代码
3. 运行现有测试
   - DateTimeTest: 全部通过
4. 自检通过

直接进入快速收尾...
```

---

## 与其他skill的协作

| Skill | 协作方式 |
|-------|----------|
| dev-quick-analysis | 读取分析结果作为实现依据 |
| dev-ai-review | 步骤4简化版审查 (仅安全+规范) |
| dev-quick-finish | 审查通过后直接进入收尾 |

> L1 流程不使用完整的 dev-quality-gate，以保持快速交付
